var e,t=new Uint8Array(16);function i(){if(!e&&!(e="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return e(t)}var n=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var s=function(e){return"string"==typeof e&&n.test(e)},o=[],l=0;l<256;++l)o.push((l+256).toString(16).substr(1));var r,a,c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=(o[e[t+0]]+o[e[t+1]]+o[e[t+2]]+o[e[t+3]]+"-"+o[e[t+4]]+o[e[t+5]]+"-"+o[e[t+6]]+o[e[t+7]]+"-"+o[e[t+8]]+o[e[t+9]]+"-"+o[e[t+10]]+o[e[t+11]]+o[e[t+12]]+o[e[t+13]]+o[e[t+14]]+o[e[t+15]]).toLowerCase();if(!s(i))throw TypeError("Stringified UUID is invalid");return i},h=0,d=0;var u=function(e,t,n){var s=t&&n||0,o=t||new Array(16),l=(e=e||{}).node||r,u=void 0!==e.clockseq?e.clockseq:a;if(null==l||null==u){var p=e.random||(e.rng||i)();null==l&&(l=r=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==u&&(u=a=16383&(p[6]<<8|p[7]))}var m=void 0!==e.msecs?e.msecs:Date.now(),v=void 0!==e.nsecs?e.nsecs:d+1,_=m-h+(v-d)/1e4;if(_<0&&void 0===e.clockseq&&(u=u+1&16383),(_<0||m>h)&&void 0===e.nsecs&&(v=0),v>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");h=m,d=v,a=u;var $=(1e4*(268435455&(m+=122192928e5))+v)%4294967296;o[s++]=$>>>24&255,o[s++]=$>>>16&255,o[s++]=$>>>8&255,o[s++]=255&$;var b=m/4294967296*1e4&268435455;o[s++]=b>>>8&255,o[s++]=255&b,o[s++]=b>>>24&15|16,o[s++]=b>>>16&255,o[s++]=u>>>8|128,o[s++]=255&u;for(var f=0;f<6;++f)o[s+f]=l[f];return t||c(o)};function p(e){const t=document.createElement("template");return e=e.trim(),t.innerHTML=e,t.content.firstChild}function m(){return u()}class v{constructor(e,t,{required:i,placeholder:n,value:s}){this.$element=t,this.$input=this.$element.querySelector("[data-input]"),this.$input.required=i,n&&(this.placeholder=n),s&&(this.value=s),this.$input.addEventListener("focus",(()=>{this.$element.classList.add("has-text","active")})),this.$input.addEventListener("blur",(()=>{this.value||this.placeholder||this.$element.classList.remove("has-text"),this.$element.classList.remove("active"),this.onBlur()})),this.onInput=()=>{},this.onBlur=()=>{},this.$element.querySelector("[data-input]").addEventListener("input",(()=>{this.multiline&&this._resize(),this.onInput()})),e.replaceWith(this.$element)}set value(e){this.$input.value=e,e?this.$element.classList.add("has-text"):this.$element.classList.remove("has-text"),this.multiline&&this._resize()}get value(){return this.$input.value}set placeholder(e){this.$input.placeholder=e,e?this.$element.classList.add("has-text"):this.$element.classList.remove("has-text")}get placeholder(){return this.$input.placeholder}focus(){this.$input.focus(),this.$input.scrollIntoView({block:"center",behavior:"smooth"})}blur(){this.$input.blur()}reportValidity(){const e=this.$input.reportValidity();return e||this.$input.scrollIntoView({block:"center",behavior:"smooth"}),e}}class _ extends v{constructor(e,{placeholder:t="",value:i="",label:n="",required:s=!1}){super(e,p(`\n        <div class="ol-text-field">\n          <input class="ol-text-field__input" type="text" data-input />\n          ${n?`<span class="ol-text-field__label">${n}</span>`:""}\n        </div>\n    `),{required:s,value:i,placeholder:t})}}class $ extends v{constructor(e,{placeholder:t="",value:i="",multiline:n=!1,required:s=!1,disableEnter:o=!1}){super(e,p(`\n        <div class="ul-text-field">\n        ${n?'<textarea role="textbox" class="ul-text-field__input" data-input ></textarea>':'<input class="ul-text-field__input" type="text" data-input />'}\n        </div>\n    `),{required:s,placeholder:t}),this.multiline=n,this.value=i,this.multiline&&o&&this.$input.addEventListener("keydown",(e=>{13==e.keyCode&&e.preventDefault()}))}_resize(){const e=p("<div><pre></pre></div>"),t=e.querySelector("pre"),i=window.getComputedStyle(this.$input);t.innerText=this.value+" ",t.style.fontSize=i.fontSize,t.style.fontFamily=i.fontFamily,t.style.fontWeight=i.fontWeight,e.style.width=this.$input.clientWidth+"px",t.style.whiteSpace="pre-wrap",t.style.wordWrap="break-word",e.style.visibility="hidden",document.body.appendChild(e),this.$input.style.height=t.clientHeight+"px",e.remove()}}class b{constructor(e,{name:t,multiple:i,items:n,editable:s=!1}){this.$element=document.createElement("div"),this.multiple=i,this.editable=s,this.name=t||"checklist_"+m(),this.items=[],e.replaceWith(this.$element),this.onChange=()=>{},this.onRemove=()=>{};for(const e of n)this.addItem(e);return this}addItem({value:e,checked:t=!1}){const i=this.multiple?"checkbox":"radio";let n="item_"+m();const s={key:n,value:e,get checked(){return!!this.$input.checked},set checked(e){this.$input.checked=e},$input:null,textField:null,$element:p(`\n        <div>\n          <label\n            for="${n}"\n            class="checklist-item ${this.editable?"editable":""}">\n\n              <input\n                ${t?"checked":""}\n                type="${i}"\n                name="${this.name}"\n                id="${n}"\n              />\n\n              <div class="${i}__mark"></div>\n              <div class="checklist-item__value">${e}</div>\n              ${this.editable?'<span class="spacex-1"></span>\n                    <button type="button" class="checklist-item__remove cross-btn secondary small"></button>':""}\n\n          </label>\n        </div>\n    `)};return s.$input=s.$element.querySelector("input"),s.checked=t,s.$input.addEventListener("change",(()=>{this.onChange({...s})})),this.$element.appendChild(s.$element),this.items.push(s),this.editable&&(s.textField=new $(s.$element.querySelector(".checklist-item__value"),{multiline:!0,placeholder:"Option",value:s.value,required:!0}),s.textField.onInput=()=>{s.value=s.textField.value,this.onChange({...s})},s.$element.querySelector(".checklist-item__remove").addEventListener("click",(()=>{this.removeItem(s)}))),s}removeItem({key:e=null,value:t=null,$element:i=null}){let n=null;this.items.splice(this.items.findIndex((s=>{if(s.key==e||s.value==t||s.$element==i)return n=s,s.$element.remove(),!0})),1),n&&this.onRemove({...n})}reportValidity(){let e=this.items.every((e=>e.textField.reportValidity()));return e&&(e=-1!=this.items.findIndex((e=>e.$input.checked)),e||(this.items[0].$input.setCustomValidity("Please check at least 1 item"),this.items[0].$input.reportValidity(),this.items[0].$input.scrollIntoView({block:"center",behavior:"smooth"}))),e}}class f{constructor(e,{text:t="",values:i={},disabled:n=!1}){this.$element=document.createElement("div"),this.onInput=()=>{},this._disabled=n,this.setText({text:t,values:i}),e.replaceWith(this.$element)}setText({text:e,values:t}){this.$element.innerHTML="",this.text=e,this.values={...t},this.$content=p(e),this.$content&&(this.$content.querySelectorAll("c").forEach((e=>{const i=e.getAttribute("width"),n=e.getAttribute("id"),s=document.createElement("span"),o=p(`<input data-id="${n}" class="inline-text-field" type="text" maxlength="${i}" ${this._disabled?"disabled":""} />`);s.style.visibility="hidden",s.style.position="absolute",s.innerText="m".repeat(i),s.style.fontSize=o.style.fontSize="1rem",s.style.fontFamily=o.style.fontFamily="monospace",document.body.appendChild(s),o.style.width=s.clientWidth+"px",o.value=t[n]||"",o.addEventListener("input",(()=>{this.values[n]=o.value,this.onInput({id:n,value:o.value})})),e.replaceWith(o),s.remove()})),this.$element.appendChild(this.$content),this.$content.style.whiteSpace="pre-wrap",this.$content.style.wordWrap="break-word")}}class y{constructor(e,{left:t=[],right:i=[],connections:n=[],editable:s=!1}){this._canvasWidth=100,this.$element=p(`\n      <div class="match">\n        <div class="match__side match__side--left"></div>\n        <canvas class="match__middle" width="${this._canvasWidth}" height="0"></canvas>\n        <div class="match__side match__side--right"></div>\n      </div>\n    `),e.replaceWith(this.$element),this.$left=this.$element.querySelector(".match__side--left"),this.$right=this.$element.querySelector(".match__side--right"),this.$middle=this.$element.querySelector(".match__middle"),this._selected=[null,null],this._ctx=this.$middle.getContext("2d"),this._connections=[],this.left=[],this.right=[],this.editable=s;for(let e of t)this.addLeft(e);for(let e of i)this.addRight(e);this.connections=n.map((e=>[...e])),this.onNewConnection=([e,t])=>{},this.onRemoveConnection=([e,t])=>{},this.onRemove=({sideName:e,item:t})=>{},this.onChange=({sideName:e,item:t})=>{}}_drawConnections(){this._ctx.clearRect(0,0,this._ctx.canvas.width,this._ctx.canvas.height);for(const e of this._connections){if(!this.left[e[0]]||!this.right[e[1]])continue;const t=this.left[e[0]].$btn,i=this.right[e[1]].$btn,n=t.getBoundingClientRect(),s=i.getBoundingClientRect(),o=this.$middle.getBoundingClientRect().top,l=n.top+n.height/2-o,r=s.top+s.height/2-o;this._ctx.lineWidth=4,this._ctx.strokeStyle="#00a8a8",this._ctx.beginPath(),this._ctx.moveTo(0,l),this._ctx.lineTo(this._ctx.canvas.width,r),this._ctx.stroke(),t.classList.add("match-button--active"),i.classList.add("match-button--active"),t.blur(),i.blur()}}set connections(e){this._connections=e,this._drawConnections()}get connections(){return this._connections}addConnection(e){this._removeConnectionHelper(e),this._connections.push([...e]),this.connections=this._connections,this.onNewConnection([...e])}removeConnection(e){const t=this._removeConnectionHelper(e);this.connections=this._connections,this.onRemoveConnection(t)}_removeConnectionHelper(e){let t=[];return this._connections=this._connections.filter((i=>i[0]!=e[0]&&i[1]!=e[1]||(t=[...i],this.left[i[0]].$btn.classList.remove("match-button--active"),this.right[i[1]].$btn.classList.remove("match-button--active"),!1))),t}addLeft(e){return this._addToSide(e,"left")}addRight(e){return this._addToSide(e,"right")}removeLeft(e){const t=this._removeSide(e,"left");return this.onRemove({sideName:"left",removed:t}),t}removeRight(e){const t=this._removeSide(e,"right");return this.onRemove({sideName:"right",removed:t}),t}_removeSide(e,t){let i=this[t],n="left"==t?0:1;this.removeConnection("left"==t?[e,null]:[null,e]);for(const t of this._connections)t[n]>e&&t[n]--;this._selected[n]==e&&(this._selected[n]=null);const s=i.splice(e,1)[0];s.$element.remove();for(let t=e;t<i.length;t++)i[t].key--;return this._adjustHeight(),s}_addToSide(e,t){const i=this["$"+t],n=this[t];let[s,o]="left"==t?[0,1]:[1,0];const l={key:n.length,value:e,$element:p(`\n        <div class="match-button__wrapper match-button__wrapper--${t}">\n          <button class="match-button match-button--${t}">\n            <div class="match-button__value">${e}</div>\n          </button>\n          ${this.editable?'<button type="button" class="match-button__remove cross-btn secondary x-small"></button>':""}\n        </div>\n      `),$btn:null};return l.$btn=l.$element.querySelector(".match-button"),i.appendChild(l.$element),this.editable&&(l.textField=new $(l.$btn.querySelector(".match-button__value"),{multiline:!0,disableEnter:!0,value:e,placeholder:t.charAt(0).toUpperCase()+t.slice(1),required:!0}),l.textField.onInput=()=>{l.value=l.textField.value,this._adjustHeight(),this.onChange({sideName:t,item:l})},l.$element.querySelector(".match-button__remove").addEventListener("click",(()=>{const e=this._removeSide(l.key,t);this.onRemove({item:e,sideName:t})}))),l.$btn.addEventListener("focus",(e=>{this._selected[s]=l.key,this.removeConnection("left"==t?[l.key,null]:[null,l.key]),null!=this._selected[o]&&(this.addConnection([this._selected[0],this._selected[1]]),this._selected=[null,null])})),l.$btn.addEventListener("blur",(()=>{setTimeout((()=>{this._selected[s]==l.key&&(this._selected[s]=null)}),10)})),this._adjustHeight(),n.push(l),l}_adjustHeight(){this.$middle.height=0,this.$middle.height=this.$element.clientHeight,this._drawConnections()}reportValidity(){if(this.editable){let e=this.left.every((e=>e.textField.reportValidity()))&&this.right.every((e=>e.textField.reportValidity()));return e&&!this._connections.length&&(e=!1,this.left[0].$btn.setCustomValidity("There should be at least 1 connection"),this.left[0].$btn.reportValidity(),this.left[0].$btn.scrollIntoView({block:"center",behavior:"smooth"})),e}return!0}}class g{constructor(e,{value:t,total:i}){this._value=t,this._total=i,this.$element=p('\n    <div class="progress">\n      <div class="progress__text">\n      </div>\n      <div class="progress__bar">\n      </div>\n    </div>\n  '),this._updateProgress(),e.replaceWith(this.$element)}set value(e){this._value=e,this._updateProgress()}get value(){return this._value}set total(e){this._total=e,this._updateProgress()}get total(){return this._total}_updateProgress(){const e=this.$element.querySelector(".progress__text"),t=this.$element.querySelector(".progress__bar");e.innerText=`${this.value} of ${this.total}`,t.innerHTML="";for(let e=1;e<=this.value;e++)t.append(p('<div class="progress__bit progress__bit--done"></div>'),p('<div class="spacex-1px"></div>'));for(let e=this.value+1;e<this.total;e++)t.append(p('<div class="progress__bit"></div>'),p('<div class="spacex-1px"></div>'));this.value<this.total&&t.append(p('<div class="progress__bit"></div>'))}}class x{constructor(e,{quest:t,progress:i,onNext:n,onPrev:s,onFinish:o}){this.$element=p(`\n      <div class="quiz-section">\n        <div class="paper-4 quiz-section__wrapper">\n          <div class="title primary">\n            ${t.title}\n          </div>\n          <div class="spacey-2"></div>\n          <div class="subtitle">\n            ${t.question}\n          </div>\n          <div class="spacey-1"></div>\n          <div class="quiz-section__content"></div>\n          <div class="spacey-2"></div>\n          <div class="space-between">\n            <div class="progress"></div>\n            <div class="quiz-section__buttons"></div>\n          </div>\n        </div>\n      </div>\n    `),e.replaceWith(this.$element),this.$quizSectionWrap=this.$element.querySelector(".quiz-section__wrapper"),this.$buttonsContainer=this.$element.querySelector(".quiz-section__buttons"),this.updateProgress(i.value,i.total),this.onNext=n||(()=>{}),this.onPrev=s||(()=>{}),this.onFinish=o||(()=>{}),this.$content=this.$element.querySelector(".quiz-section__content");const l={question:()=>{const e=document.createElement("div");this.$content.appendChild(e);const i=new _(e,{value:t.answer||"",label:"Your answer"});i.onInput=()=>{t.answer=i.value}},choose:e=>{const i=document.createElement("form");i.onsubmit=e=>e.preventDefault();const n=document.createElement("div");this.$content.appendChild(i),i.appendChild(n),t.answers||(t.answers=[]);const s=new b(n,{multiple:e,items:t.options.map(((e,i)=>({value:e,checked:t.answers.includes(i+1)})))});s.onChange=()=>{t.answers=[],s.items.forEach(((e,i)=>{e.checked&&t.answers.push(i+1)}))}},"choose one":function(){this.choose(!1)},"choose multiple":function(){this.choose(!0)},complete:()=>{t.answers||(t.answers={});const e=document.createElement("div");this.$content.append(e);new f(e,{values:t.answers,text:t.text}).onInput=({id:e,value:i})=>{t.answers[e]=i}},match:()=>{t.answers||(t.answers=[]);const e=document.createElement("div");this.$content.appendChild(e);const i=new y(e,{left:t.left,right:t.right,connections:t.answers.map((([e,t])=>[e-1,t-1]))});i.onChange=i.onRemove=i.onNewConnection=i.onRemoveConnection=()=>{t.left=i.left.map((e=>e.value)),t.right=i.right.map((e=>e.value)),t.answers=i.connections.map((e=>[e[0]+1,e[1]+1]))}}};l[t.type]&&l[t.type]()}updateProgress(e,t){let i,n,s;this.progress=new g(this.$element.querySelector(".progress"),{value:e,total:t}),this.$buttonsContainer.innerHTML="",e>1&&this.$buttonsContainer.append(i=p('<button class="text-button secondary">prev</button>'),p('<span class="spacex-1"></span>')),e<t&&this.$buttonsContainer.appendChild(n=p('<button class="filled-button primary">next</button>')),e==t&&this.$buttonsContainer.appendChild(s=p('<button class="filled-button success">finish</button>')),i&&i.addEventListener("click",(()=>this.onPrev())),n&&n.addEventListener("click",(()=>this.onNext())),s&&s.addEventListener("click",(()=>this.onFinish()))}remove(){this.$element.remove()}}let w={name:"My first quiz",quests:[{title:"Answer the question",type:"question",question:"What is the name of the first function called when executing a C++ program?",correctAnswers:["main"],answer:""},{title:"Choose the right answer",type:"choose one",question:"What is the time complexity of 'Binary search'?",options:["O(1)","O(n)","O(log n)","O(n log n)"],correctAnswers:[3]},{title:"Choose the right answers",type:"choose multiple",question:"What may be the result of a sorting algorithm applied on an set of numbers?",options:["[1, 4, 5, 3, 10, 14]","[55, 90, 91, 123, 241]","[62, 42, -1, -2, -99]"],correctAnswers:[2,3]},{title:"Complete empty spaces",type:"complete",question:'Write a function named "Hello" that prints "Hello world" to the console and something more here',text:'<pre>function <span><c id="1" width="5" /></span>() {\n  console.<span><c id="2" width="3"/></span>(<span><c id="3" width="13"/></span>);\n}</pre>',correctAnswers:{1:"Hello",2:"log",3:'"Hello world"'}},{title:"Match the sides",type:"match",question:"Match the size of given types",left:["int","char","short"],right:["8 bits","16 bits","32 bits"],correctAnswers:[[1,3],[2,1],[3,2]]}]};for(const e of w.quests)e.answer=null,e.answers=null;!function(){const e=document.querySelector("#quiz");let t=function i(n){const s=document.createElement("div");return e.innerHTML="",e.appendChild(s),{quizSection:new x(s,{progress:{value:n+1,total:w.quests.length},quest:w.quests[n],onPrev:()=>{t.questIdx>0&&(t=i(t.questIdx-1))},onNext:()=>{t.questIdx<w.quests.length-1&&(t=i(t.questIdx+1))}}),questIdx:n}}(0)}();
//# sourceMappingURL=quiz.440fe70c.js.map
