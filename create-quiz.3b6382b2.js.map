{"version":3,"sources":["../node_modules/uuid/dist/esm-browser/rng.js","../node_modules/uuid/dist/esm-browser/regex.js","../node_modules/uuid/dist/esm-browser/validate.js","../node_modules/uuid/dist/esm-browser/stringify.js","../node_modules/uuid/dist/esm-browser/v1.js","../node_modules/uuid/dist/esm-browser/parse.js","../node_modules/uuid/dist/esm-browser/v35.js","../node_modules/uuid/dist/esm-browser/md5.js","../node_modules/uuid/dist/esm-browser/v3.js","../node_modules/uuid/dist/esm-browser/v4.js","../node_modules/uuid/dist/esm-browser/sha1.js","../node_modules/uuid/dist/esm-browser/v5.js","../node_modules/uuid/dist/esm-browser/nil.js","../node_modules/uuid/dist/esm-browser/version.js","../node_modules/uuid/dist/esm-browser/index.js","components/utils.js","components/text-field.js","components/check-list.js","components/complete.js","components/match.js","components/editable-quiz-section.js","components/select.js","components/modal.js","create-quiz.js","C:/Users/nordd/AppData/Roaming/npm/node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["getRandomValues","rnds8","Uint8Array","rng","crypto","bind","msCrypto","Error","validate","uuid","REGEX","test","byteToHex","i","push","toString","substr","stringify","arr","offset","arguments","length","undefined","toLowerCase","TypeError","_nodeId","_clockseq","_lastMSecs","_lastNSecs","v1","options","buf","b","Array","node","clockseq","seedBytes","random","msecs","Date","now","nsecs","dt","tl","tmh","n","parse","v","parseInt","slice","stringToBytes","str","unescape","encodeURIComponent","bytes","charCodeAt","DNS","URL","name","version","hashfunc","generateUUID","value","namespace","set","err","md5","msg","md5ToHexEncodedArray","wordsToMd5","bytesToWords","input","output","length32","hexTab","x","hex","charAt","getOutputLength","inputLength8","len","a","c","d","olda","oldb","oldc","oldd","md5ff","md5gg","md5hh","md5ii","safeAdd","length8","Uint32Array","y","lsw","msw","bitRotateLeft","num","cnt","md5cmn","q","s","t","v3","v4","rnds","f","z","ROTL","sha1","K","H","isArray","prototype","call","l","N","Math","ceil","M","_i","j","pow","floor","_i2","W","_t","e","_t2","T","v5","createElementFrom","template","document","createElement","trim","innerHTML","content","firstChild","genId","TextFieldBase","$target","$element","required","placeholder","$input","querySelector","addEventListener","classList","add","remove","onBlur","onInput","multiline","_resize","replaceWith","focus","scrollIntoView","block","behavior","blur","valid","reportValidity","OLTextField","label","ULTextField","disableEnter","keyCode","preventDefault","$wrap","$pre","style","window","getComputedStyle","innerText","fontSize","fontFamily","fontWeight","width","clientWidth","whiteSpace","wordWrap","visibility","body","appendChild","height","clientHeight","CheckList","multiple","items","editable","onChange","onRemove","addItem","checked","type","key","newItem","textField","removeItem","removed","splice","findIndex","item","every","setCustomValidity","Complete","text","values","disabled","_disabled","setText","$content","querySelectorAll","forEach","w","getAttribute","id","$span","$inp","position","repeat","parseText","currentId","toComplete","mode","put","append","createTextNode","parsedText","outerHTML","unParseText","replace","replaceAll","Match","left","right","connections","_canvasWidth","$left","$right","$middle","_selected","_ctx","getContext","_connections","addLeft","addRight","map","onNewConnection","_","__","onRemoveConnection","sideName","clearRect","canvas","$lel","$btn","$rel","lbr","getBoundingClientRect","rbr","top","y1","y2","lineWidth","strokeStyle","beginPath","moveTo","lineTo","stroke","_drawConnections","connection","_removeConnectionHelper","rc","ret","filter","_addToSide","idx","_removeSide","sideItems","ci","removeConnection","_adjustHeight","$side","ci1","ci2","toUpperCase","r","addConnection","setTimeout","EditableQuizSection","quest","title","question","titleInput","questionInput","$removeBtn","_validityHandlers","fn","typeHandlers","answer","$placeholder","choose","$form","onsubmit","$addBtn","answers","checklist","o","includes","click","complete","$completePlaceholder","$inputPlaceholder","$editBtn","hidden","cursor","edit","p","match","$addLeft","$addRight","$btnWrap","Select","$trigger","$options","onSelect","selected","addOption","$option","el","promptModal","what","$modal","createModal","runModal","then","selectModal","select","$main","closed","close","Promise","resolve","reject","$overlay","target","checkValidity","quiz","quests","correctAnswers","titleMap","Init","$quiz","$quizName","$questsContainer","$addQuestBtn","$submitBtn","quizNameInput","quizSections","newQuest","eqs","qs","OVERLAY_ID","OldModule","module","bundle","Module","moduleName","hot","data","hotData","_acceptCallbacks","_disposeCallbacks","accept","dispose","checkedAssets","assetsToAccept","parent","isParcelRequire","WebSocket","hostname","location","protocol","ws","onmessage","event","JSON","handled","assets","asset","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","generated","js","console","clear","hmrApply","hmrAcceptRun","reload","onclose","log","removeErrorOverlay","error","message","stack","overlay","createErrorOverlay","getElementById","stackTrace","getParents","modules","parents","k","dep","concat","Function","deps","cached","cache","some","cb"],"mappings":"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","file":"create-quiz.3b6382b2.js","sourceRoot":"..\\src","sourcesContent":["// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nvar getRandomValues;\nvar rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation. Also,\n    // find the complete implementation of crypto (msCrypto) on IE11.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== 'undefined' && typeof msCrypto.getRandomValues === 'function' && msCrypto.getRandomValues.bind(msCrypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}","export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;","import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nvar byteToHex = [];\n\nfor (var i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction stringify(arr) {\n  var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  var uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import rng from './rng.js';\nimport stringify from './stringify.js'; // **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\nvar _nodeId;\n\nvar _clockseq; // Previous uuid creation time\n\n\nvar _lastMSecs = 0;\nvar _lastNSecs = 0; // See https://github.com/uuidjs/uuid for API details\n\nfunction v1(options, buf, offset) {\n  var i = buf && offset || 0;\n  var b = buf || new Array(16);\n  options = options || {};\n  var node = options.node || _nodeId;\n  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq; // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n\n  if (node == null || clockseq == null) {\n    var seedBytes = options.random || (options.rng || rng)();\n\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [seedBytes[0] | 0x01, seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]];\n    }\n\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  } // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n\n\n  var msecs = options.msecs !== undefined ? options.msecs : Date.now(); // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n\n  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1; // Time since last uuid creation (in msecs)\n\n  var dt = msecs - _lastMSecs + (nsecs - _lastNSecs) / 10000; // Per 4.2.1.2, Bump clockseq on clock regression\n\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  } // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n\n\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  } // Per 4.2.1.2 Throw error if too many uuids are requested\n\n\n  if (nsecs >= 10000) {\n    throw new Error(\"uuid.v1(): Can't create more than 10M uuids/sec\");\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq; // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n\n  msecs += 12219292800000; // `time_low`\n\n  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff; // `time_mid`\n\n  var tmh = msecs / 0x100000000 * 10000 & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff; // `time_high_and_version`\n\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n\n  b[i++] = tmh >>> 16 & 0xff; // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n\n  b[i++] = clockseq >>> 8 | 0x80; // `clock_seq_low`\n\n  b[i++] = clockseq & 0xff; // `node`\n\n  for (var n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf || stringify(b);\n}\n\nexport default v1;","import validate from './validate.js';\n\nfunction parse(uuid) {\n  if (!validate(uuid)) {\n    throw TypeError('Invalid UUID');\n  }\n\n  var v;\n  var arr = new Uint8Array(16); // Parse ########-....-....-....-............\n\n  arr[0] = (v = parseInt(uuid.slice(0, 8), 16)) >>> 24;\n  arr[1] = v >>> 16 & 0xff;\n  arr[2] = v >>> 8 & 0xff;\n  arr[3] = v & 0xff; // Parse ........-####-....-....-............\n\n  arr[4] = (v = parseInt(uuid.slice(9, 13), 16)) >>> 8;\n  arr[5] = v & 0xff; // Parse ........-....-####-....-............\n\n  arr[6] = (v = parseInt(uuid.slice(14, 18), 16)) >>> 8;\n  arr[7] = v & 0xff; // Parse ........-....-....-####-............\n\n  arr[8] = (v = parseInt(uuid.slice(19, 23), 16)) >>> 8;\n  arr[9] = v & 0xff; // Parse ........-....-....-....-############\n  // (Use \"/\" to avoid 32-bit truncation when bit-shifting high-order bytes)\n\n  arr[10] = (v = parseInt(uuid.slice(24, 36), 16)) / 0x10000000000 & 0xff;\n  arr[11] = v / 0x100000000 & 0xff;\n  arr[12] = v >>> 24 & 0xff;\n  arr[13] = v >>> 16 & 0xff;\n  arr[14] = v >>> 8 & 0xff;\n  arr[15] = v & 0xff;\n  return arr;\n}\n\nexport default parse;","import stringify from './stringify.js';\nimport parse from './parse.js';\n\nfunction stringToBytes(str) {\n  str = unescape(encodeURIComponent(str)); // UTF8 escape\n\n  var bytes = [];\n\n  for (var i = 0; i < str.length; ++i) {\n    bytes.push(str.charCodeAt(i));\n  }\n\n  return bytes;\n}\n\nexport var DNS = '6ba7b810-9dad-11d1-80b4-00c04fd430c8';\nexport var URL = '6ba7b811-9dad-11d1-80b4-00c04fd430c8';\nexport default function (name, version, hashfunc) {\n  function generateUUID(value, namespace, buf, offset) {\n    if (typeof value === 'string') {\n      value = stringToBytes(value);\n    }\n\n    if (typeof namespace === 'string') {\n      namespace = parse(namespace);\n    }\n\n    if (namespace.length !== 16) {\n      throw TypeError('Namespace must be array-like (16 iterable integer values, 0-255)');\n    } // Compute hash of namespace and value, Per 4.3\n    // Future: Use spread syntax when supported on all platforms, e.g. `bytes =\n    // hashfunc([...namespace, ... value])`\n\n\n    var bytes = new Uint8Array(16 + value.length);\n    bytes.set(namespace);\n    bytes.set(value, namespace.length);\n    bytes = hashfunc(bytes);\n    bytes[6] = bytes[6] & 0x0f | version;\n    bytes[8] = bytes[8] & 0x3f | 0x80;\n\n    if (buf) {\n      offset = offset || 0;\n\n      for (var i = 0; i < 16; ++i) {\n        buf[offset + i] = bytes[i];\n      }\n\n      return buf;\n    }\n\n    return stringify(bytes);\n  } // Function#name is not settable on some platforms (#270)\n\n\n  try {\n    generateUUID.name = name; // eslint-disable-next-line no-empty\n  } catch (err) {} // For CommonJS default export support\n\n\n  generateUUID.DNS = DNS;\n  generateUUID.URL = URL;\n  return generateUUID;\n}","/*\n * Browser-compatible JavaScript MD5\n *\n * Modification of JavaScript MD5\n * https://github.com/blueimp/JavaScript-MD5\n *\n * Copyright 2011, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n *\n * Based on\n * A JavaScript implementation of the RSA Data Security, Inc. MD5 Message\n * Digest Algorithm, as defined in RFC 1321.\n * Version 2.2 Copyright (C) Paul Johnston 1999 - 2009\n * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet\n * Distributed under the BSD License\n * See http://pajhome.org.uk/crypt/md5 for more info.\n */\nfunction md5(bytes) {\n  if (typeof bytes === 'string') {\n    var msg = unescape(encodeURIComponent(bytes)); // UTF8 escape\n\n    bytes = new Uint8Array(msg.length);\n\n    for (var i = 0; i < msg.length; ++i) {\n      bytes[i] = msg.charCodeAt(i);\n    }\n  }\n\n  return md5ToHexEncodedArray(wordsToMd5(bytesToWords(bytes), bytes.length * 8));\n}\n/*\n * Convert an array of little-endian words to an array of bytes\n */\n\n\nfunction md5ToHexEncodedArray(input) {\n  var output = [];\n  var length32 = input.length * 32;\n  var hexTab = '0123456789abcdef';\n\n  for (var i = 0; i < length32; i += 8) {\n    var x = input[i >> 5] >>> i % 32 & 0xff;\n    var hex = parseInt(hexTab.charAt(x >>> 4 & 0x0f) + hexTab.charAt(x & 0x0f), 16);\n    output.push(hex);\n  }\n\n  return output;\n}\n/**\n * Calculate output length with padding and bit length\n */\n\n\nfunction getOutputLength(inputLength8) {\n  return (inputLength8 + 64 >>> 9 << 4) + 14 + 1;\n}\n/*\n * Calculate the MD5 of an array of little-endian words, and a bit length.\n */\n\n\nfunction wordsToMd5(x, len) {\n  /* append padding */\n  x[len >> 5] |= 0x80 << len % 32;\n  x[getOutputLength(len) - 1] = len;\n  var a = 1732584193;\n  var b = -271733879;\n  var c = -1732584194;\n  var d = 271733878;\n\n  for (var i = 0; i < x.length; i += 16) {\n    var olda = a;\n    var oldb = b;\n    var oldc = c;\n    var oldd = d;\n    a = md5ff(a, b, c, d, x[i], 7, -680876936);\n    d = md5ff(d, a, b, c, x[i + 1], 12, -389564586);\n    c = md5ff(c, d, a, b, x[i + 2], 17, 606105819);\n    b = md5ff(b, c, d, a, x[i + 3], 22, -1044525330);\n    a = md5ff(a, b, c, d, x[i + 4], 7, -176418897);\n    d = md5ff(d, a, b, c, x[i + 5], 12, 1200080426);\n    c = md5ff(c, d, a, b, x[i + 6], 17, -1473231341);\n    b = md5ff(b, c, d, a, x[i + 7], 22, -45705983);\n    a = md5ff(a, b, c, d, x[i + 8], 7, 1770035416);\n    d = md5ff(d, a, b, c, x[i + 9], 12, -1958414417);\n    c = md5ff(c, d, a, b, x[i + 10], 17, -42063);\n    b = md5ff(b, c, d, a, x[i + 11], 22, -1990404162);\n    a = md5ff(a, b, c, d, x[i + 12], 7, 1804603682);\n    d = md5ff(d, a, b, c, x[i + 13], 12, -40341101);\n    c = md5ff(c, d, a, b, x[i + 14], 17, -1502002290);\n    b = md5ff(b, c, d, a, x[i + 15], 22, 1236535329);\n    a = md5gg(a, b, c, d, x[i + 1], 5, -165796510);\n    d = md5gg(d, a, b, c, x[i + 6], 9, -1069501632);\n    c = md5gg(c, d, a, b, x[i + 11], 14, 643717713);\n    b = md5gg(b, c, d, a, x[i], 20, -373897302);\n    a = md5gg(a, b, c, d, x[i + 5], 5, -701558691);\n    d = md5gg(d, a, b, c, x[i + 10], 9, 38016083);\n    c = md5gg(c, d, a, b, x[i + 15], 14, -660478335);\n    b = md5gg(b, c, d, a, x[i + 4], 20, -405537848);\n    a = md5gg(a, b, c, d, x[i + 9], 5, 568446438);\n    d = md5gg(d, a, b, c, x[i + 14], 9, -1019803690);\n    c = md5gg(c, d, a, b, x[i + 3], 14, -187363961);\n    b = md5gg(b, c, d, a, x[i + 8], 20, 1163531501);\n    a = md5gg(a, b, c, d, x[i + 13], 5, -1444681467);\n    d = md5gg(d, a, b, c, x[i + 2], 9, -51403784);\n    c = md5gg(c, d, a, b, x[i + 7], 14, 1735328473);\n    b = md5gg(b, c, d, a, x[i + 12], 20, -1926607734);\n    a = md5hh(a, b, c, d, x[i + 5], 4, -378558);\n    d = md5hh(d, a, b, c, x[i + 8], 11, -2022574463);\n    c = md5hh(c, d, a, b, x[i + 11], 16, 1839030562);\n    b = md5hh(b, c, d, a, x[i + 14], 23, -35309556);\n    a = md5hh(a, b, c, d, x[i + 1], 4, -1530992060);\n    d = md5hh(d, a, b, c, x[i + 4], 11, 1272893353);\n    c = md5hh(c, d, a, b, x[i + 7], 16, -155497632);\n    b = md5hh(b, c, d, a, x[i + 10], 23, -1094730640);\n    a = md5hh(a, b, c, d, x[i + 13], 4, 681279174);\n    d = md5hh(d, a, b, c, x[i], 11, -358537222);\n    c = md5hh(c, d, a, b, x[i + 3], 16, -722521979);\n    b = md5hh(b, c, d, a, x[i + 6], 23, 76029189);\n    a = md5hh(a, b, c, d, x[i + 9], 4, -640364487);\n    d = md5hh(d, a, b, c, x[i + 12], 11, -421815835);\n    c = md5hh(c, d, a, b, x[i + 15], 16, 530742520);\n    b = md5hh(b, c, d, a, x[i + 2], 23, -995338651);\n    a = md5ii(a, b, c, d, x[i], 6, -198630844);\n    d = md5ii(d, a, b, c, x[i + 7], 10, 1126891415);\n    c = md5ii(c, d, a, b, x[i + 14], 15, -1416354905);\n    b = md5ii(b, c, d, a, x[i + 5], 21, -57434055);\n    a = md5ii(a, b, c, d, x[i + 12], 6, 1700485571);\n    d = md5ii(d, a, b, c, x[i + 3], 10, -1894986606);\n    c = md5ii(c, d, a, b, x[i + 10], 15, -1051523);\n    b = md5ii(b, c, d, a, x[i + 1], 21, -2054922799);\n    a = md5ii(a, b, c, d, x[i + 8], 6, 1873313359);\n    d = md5ii(d, a, b, c, x[i + 15], 10, -30611744);\n    c = md5ii(c, d, a, b, x[i + 6], 15, -1560198380);\n    b = md5ii(b, c, d, a, x[i + 13], 21, 1309151649);\n    a = md5ii(a, b, c, d, x[i + 4], 6, -145523070);\n    d = md5ii(d, a, b, c, x[i + 11], 10, -1120210379);\n    c = md5ii(c, d, a, b, x[i + 2], 15, 718787259);\n    b = md5ii(b, c, d, a, x[i + 9], 21, -343485551);\n    a = safeAdd(a, olda);\n    b = safeAdd(b, oldb);\n    c = safeAdd(c, oldc);\n    d = safeAdd(d, oldd);\n  }\n\n  return [a, b, c, d];\n}\n/*\n * Convert an array bytes to an array of little-endian words\n * Characters >255 have their high-byte silently ignored.\n */\n\n\nfunction bytesToWords(input) {\n  if (input.length === 0) {\n    return [];\n  }\n\n  var length8 = input.length * 8;\n  var output = new Uint32Array(getOutputLength(length8));\n\n  for (var i = 0; i < length8; i += 8) {\n    output[i >> 5] |= (input[i / 8] & 0xff) << i % 32;\n  }\n\n  return output;\n}\n/*\n * Add integers, wrapping at 2^32. This uses 16-bit operations internally\n * to work around bugs in some JS interpreters.\n */\n\n\nfunction safeAdd(x, y) {\n  var lsw = (x & 0xffff) + (y & 0xffff);\n  var msw = (x >> 16) + (y >> 16) + (lsw >> 16);\n  return msw << 16 | lsw & 0xffff;\n}\n/*\n * Bitwise rotate a 32-bit number to the left.\n */\n\n\nfunction bitRotateLeft(num, cnt) {\n  return num << cnt | num >>> 32 - cnt;\n}\n/*\n * These functions implement the four basic operations the algorithm uses.\n */\n\n\nfunction md5cmn(q, a, b, x, s, t) {\n  return safeAdd(bitRotateLeft(safeAdd(safeAdd(a, q), safeAdd(x, t)), s), b);\n}\n\nfunction md5ff(a, b, c, d, x, s, t) {\n  return md5cmn(b & c | ~b & d, a, b, x, s, t);\n}\n\nfunction md5gg(a, b, c, d, x, s, t) {\n  return md5cmn(b & d | c & ~d, a, b, x, s, t);\n}\n\nfunction md5hh(a, b, c, d, x, s, t) {\n  return md5cmn(b ^ c ^ d, a, b, x, s, t);\n}\n\nfunction md5ii(a, b, c, d, x, s, t) {\n  return md5cmn(c ^ (b | ~d), a, b, x, s, t);\n}\n\nexport default md5;","import v35 from './v35.js';\nimport md5 from './md5.js';\nvar v3 = v35('v3', 0x30, md5);\nexport default v3;","import rng from './rng.js';\nimport stringify from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  options = options || {};\n  var rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (var i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return stringify(rnds);\n}\n\nexport default v4;","// Adapted from Chris Veness' SHA1 code at\n// http://www.movable-type.co.uk/scripts/sha1.html\nfunction f(s, x, y, z) {\n  switch (s) {\n    case 0:\n      return x & y ^ ~x & z;\n\n    case 1:\n      return x ^ y ^ z;\n\n    case 2:\n      return x & y ^ x & z ^ y & z;\n\n    case 3:\n      return x ^ y ^ z;\n  }\n}\n\nfunction ROTL(x, n) {\n  return x << n | x >>> 32 - n;\n}\n\nfunction sha1(bytes) {\n  var K = [0x5a827999, 0x6ed9eba1, 0x8f1bbcdc, 0xca62c1d6];\n  var H = [0x67452301, 0xefcdab89, 0x98badcfe, 0x10325476, 0xc3d2e1f0];\n\n  if (typeof bytes === 'string') {\n    var msg = unescape(encodeURIComponent(bytes)); // UTF8 escape\n\n    bytes = [];\n\n    for (var i = 0; i < msg.length; ++i) {\n      bytes.push(msg.charCodeAt(i));\n    }\n  } else if (!Array.isArray(bytes)) {\n    // Convert Array-like to Array\n    bytes = Array.prototype.slice.call(bytes);\n  }\n\n  bytes.push(0x80);\n  var l = bytes.length / 4 + 2;\n  var N = Math.ceil(l / 16);\n  var M = new Array(N);\n\n  for (var _i = 0; _i < N; ++_i) {\n    var arr = new Uint32Array(16);\n\n    for (var j = 0; j < 16; ++j) {\n      arr[j] = bytes[_i * 64 + j * 4] << 24 | bytes[_i * 64 + j * 4 + 1] << 16 | bytes[_i * 64 + j * 4 + 2] << 8 | bytes[_i * 64 + j * 4 + 3];\n    }\n\n    M[_i] = arr;\n  }\n\n  M[N - 1][14] = (bytes.length - 1) * 8 / Math.pow(2, 32);\n  M[N - 1][14] = Math.floor(M[N - 1][14]);\n  M[N - 1][15] = (bytes.length - 1) * 8 & 0xffffffff;\n\n  for (var _i2 = 0; _i2 < N; ++_i2) {\n    var W = new Uint32Array(80);\n\n    for (var t = 0; t < 16; ++t) {\n      W[t] = M[_i2][t];\n    }\n\n    for (var _t = 16; _t < 80; ++_t) {\n      W[_t] = ROTL(W[_t - 3] ^ W[_t - 8] ^ W[_t - 14] ^ W[_t - 16], 1);\n    }\n\n    var a = H[0];\n    var b = H[1];\n    var c = H[2];\n    var d = H[3];\n    var e = H[4];\n\n    for (var _t2 = 0; _t2 < 80; ++_t2) {\n      var s = Math.floor(_t2 / 20);\n      var T = ROTL(a, 5) + f(s, b, c, d) + e + K[s] + W[_t2] >>> 0;\n      e = d;\n      d = c;\n      c = ROTL(b, 30) >>> 0;\n      b = a;\n      a = T;\n    }\n\n    H[0] = H[0] + a >>> 0;\n    H[1] = H[1] + b >>> 0;\n    H[2] = H[2] + c >>> 0;\n    H[3] = H[3] + d >>> 0;\n    H[4] = H[4] + e >>> 0;\n  }\n\n  return [H[0] >> 24 & 0xff, H[0] >> 16 & 0xff, H[0] >> 8 & 0xff, H[0] & 0xff, H[1] >> 24 & 0xff, H[1] >> 16 & 0xff, H[1] >> 8 & 0xff, H[1] & 0xff, H[2] >> 24 & 0xff, H[2] >> 16 & 0xff, H[2] >> 8 & 0xff, H[2] & 0xff, H[3] >> 24 & 0xff, H[3] >> 16 & 0xff, H[3] >> 8 & 0xff, H[3] & 0xff, H[4] >> 24 & 0xff, H[4] >> 16 & 0xff, H[4] >> 8 & 0xff, H[4] & 0xff];\n}\n\nexport default sha1;","import v35 from './v35.js';\nimport sha1 from './sha1.js';\nvar v5 = v35('v5', 0x50, sha1);\nexport default v5;","export default '00000000-0000-0000-0000-000000000000';","import validate from './validate.js';\n\nfunction version(uuid) {\n  if (!validate(uuid)) {\n    throw TypeError('Invalid UUID');\n  }\n\n  return parseInt(uuid.substr(14, 1), 16);\n}\n\nexport default version;","export { default as v1 } from './v1.js';\nexport { default as v3 } from './v3.js';\nexport { default as v4 } from './v4.js';\nexport { default as v5 } from './v5.js';\nexport { default as NIL } from './nil.js';\nexport { default as version } from './version.js';\nexport { default as validate } from './validate.js';\nexport { default as stringify } from './stringify.js';\nexport { default as parse } from './parse.js';","import * as uuid from \"uuid\";\r\n\r\n/**\r\n * \r\n * @param {string} str \r\n * @returns {HTMLElement}\r\n */\r\n\r\nexport function createElementFrom(str) {\r\n  /**\r\n   * @type {HTMLTemplateElement}\r\n   */\r\n  const template = document.createElement(\"template\");\r\n  str = str.trim();\r\n  template.innerHTML = str;\r\n  return template.content.firstChild;\r\n}\r\n\r\nexport function genId() {\r\n  return uuid.v1();\r\n}\r\n\r\n\r\n","import { createElementFrom } from \"./utils\";\r\n\r\nclass TextFieldBase {\r\n  /**\r\n   *\r\n   * @param {HTMLElement} $target\r\n   * @param {HTMLElement} $element\r\n   */\r\n  constructor($target, $element, { required, placeholder, value }) {\r\n    this.$element = $element;\r\n    /**\r\n     * @type {HTMLTextAreaElement | HTMLInputElement}\r\n     */\r\n    this.$input = this.$element.querySelector(\"[data-input]\");\r\n\r\n    this.$input.required = required;\r\n    if (placeholder) this.placeholder = placeholder;\r\n    if (value) this.value = value;\r\n\r\n    this.$input.addEventListener(\"focus\", () => {\r\n      this.$element.classList.add(\"has-text\", \"active\");\r\n    });\r\n\r\n    this.$input.addEventListener(\"blur\", () => {\r\n      if (!this.value && !this.placeholder) {\r\n        this.$element.classList.remove(\"has-text\");\r\n      }\r\n      this.$element.classList.remove(\"active\");\r\n      this.onBlur();\r\n    });\r\n\r\n    this.onInput = () => {};\r\n    this.onBlur = () => {};\r\n\r\n    this.$element\r\n      .querySelector(\"[data-input]\")\r\n      .addEventListener(\"input\", () => {\r\n        this.multiline && this._resize();\r\n        this.onInput();\r\n      });\r\n\r\n    $target.replaceWith(this.$element);\r\n  }\r\n\r\n  set value(v) {\r\n    this.$input.value = v;\r\n    if (v) this.$element.classList.add(\"has-text\");\r\n    else this.$element.classList.remove(\"has-text\");\r\n    this.multiline && this._resize();\r\n  }\r\n  get value() {\r\n    return this.$input.value;\r\n  }\r\n  set placeholder(v) {\r\n    this.$input.placeholder = v;\r\n    if (v) this.$element.classList.add(\"has-text\");\r\n    else this.$element.classList.remove(\"has-text\");\r\n  }\r\n  get placeholder() {\r\n    return this.$input.placeholder;\r\n  }\r\n\r\n  focus() {\r\n    this.$input.focus();\r\n    this.$input.scrollIntoView({\r\n      block: \"center\",\r\n      behavior: \"smooth\",\r\n    });\r\n  }\r\n  blur() {\r\n    this.$input.blur();\r\n  }\r\n\r\n  reportValidity() {\r\n    const valid = this.$input.reportValidity();\r\n    if (!valid)\r\n      this.$input.scrollIntoView({\r\n        block: \"center\",\r\n        behavior: \"smooth\",\r\n      });\r\n    return valid;\r\n  }\r\n}\r\n\r\nexport class OLTextField extends TextFieldBase {\r\n  /**\r\n   *\r\n   * @param {HTMLElement} $target\r\n   * @param {{\r\n   *  placeholder: string,\r\n   *  value: string,\r\n   *  label: string,\r\n   *  required: boolean\r\n   * }} param1\r\n   */\r\n  constructor(\r\n    $target,\r\n    { placeholder = \"\", value = \"\", label = \"\", required = false }\r\n  ) {\r\n    super(\r\n      $target,\r\n      createElementFrom(`\r\n        <div class=\"ol-text-field\">\r\n          <input class=\"ol-text-field__input\" type=\"text\" data-input />\r\n          ${label ? `<span class=\"ol-text-field__label\">${label}</span>` : \"\"}\r\n        </div>\r\n    `),\r\n      { required, value, placeholder }\r\n    );\r\n  }\r\n}\r\n\r\nexport class ULTextField extends TextFieldBase {\r\n  /**\r\n   *\r\n   * @param {HTMLElement} $target\r\n   * @param {{\r\n   *  placeholder: string,\r\n   *  value: string,\r\n   *  multiline: boolean,\r\n   *  required: boolean\r\n   *  disableEnter: boolean\r\n   * }} param1\r\n   */\r\n  constructor(\r\n    $target,\r\n    {\r\n      placeholder = \"\",\r\n      value = \"\",\r\n      multiline = false,\r\n      required = false,\r\n      disableEnter = false,\r\n    }\r\n  ) {\r\n    super(\r\n      $target,\r\n      createElementFrom(`\r\n        <div class=\"ul-text-field\">\r\n        ${\r\n          multiline\r\n            ? `<textarea role=\"textbox\" class=\"ul-text-field__input\" data-input ></textarea>`\r\n            : `<input class=\"ul-text-field__input\" type=\"text\" data-input />`\r\n        }\r\n        </div>\r\n    `),\r\n      {\r\n        required,\r\n        placeholder,\r\n      }\r\n    );\r\n    this.multiline = multiline;\r\n    this.value = value;\r\n\r\n    if (this.multiline && disableEnter) {\r\n      this.$input.addEventListener(\"keydown\", (e) => {\r\n        if (e.keyCode == 13) {\r\n          e.preventDefault();\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  _resize() {\r\n    const $wrap = createElementFrom(`<div><pre></pre></div>`);\r\n    const $pre = $wrap.querySelector(\"pre\");\r\n    const style = window.getComputedStyle(this.$input);\r\n\r\n    $pre.innerText = this.value + \" \";\r\n    $pre.style.fontSize = style.fontSize;\r\n    $pre.style.fontFamily = style.fontFamily;\r\n    $pre.style.fontWeight = style.fontWeight;\r\n    $wrap.style.width = this.$input.clientWidth + \"px\";\r\n    $pre.style.whiteSpace = \"pre-wrap\";\r\n    $pre.style.wordWrap = \"break-word\";\r\n    $wrap.style.visibility = \"hidden\";\r\n\r\n    document.body.appendChild($wrap);\r\n    this.$input.style.height = $pre.clientHeight + \"px\";\r\n    $wrap.remove();\r\n  }\r\n}\r\n","import { ULTextField } from \"./text-field\";\r\nimport { createElementFrom, genId } from \"./utils\";\r\n\r\nexport class CheckList {\r\n  /**\r\n   *\r\n   * @param {HTMLElement} $target\r\n   * @param {{\r\n   *  name: string,\r\n   *  multiple: boolean,\r\n   *  items: Array<{key: any, value: string, checked: boolean}>,\r\n   *  editable?: boolean\r\n   * }} param1\r\n   */\r\n  constructor($target, { name, multiple, items, editable = false }) {\r\n    this.$element = document.createElement(\"div\");\r\n    this.multiple = multiple;\r\n    this.editable = editable;\r\n    this.name = name || \"checklist_\" + genId();\r\n\r\n    /**\r\n     * @type {Array<{\r\n     *  key: string|number,\r\n     *  value: string,\r\n     *  checked: boolean,\r\n     *  $input: HTMLInputElement,\r\n     *  textField?: ULTextField,\r\n     *  $element: HTMLInputElement\r\n     * }>}\r\n     */\r\n    this.items = [];\r\n    $target.replaceWith(this.$element);\r\n\r\n    this.onChange = () => {};\r\n    this.onRemove = () => {};\r\n\r\n    for (const i of items) this.addItem(i);\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {{\r\n   *  value: string,\r\n   *  checked: boolean\r\n   * }} param0\r\n   * @returns\r\n   */\r\n  addItem({ value, checked = false }) {\r\n    const type = this.multiple ? \"checkbox\" : \"radio\";\r\n    let key = \"item_\" + genId();\r\n    const newItem = {\r\n      key,\r\n      value,\r\n      get checked() { return !!this.$input.checked; },\r\n      set checked(v) { this.$input.checked = v; },\r\n      $input: null,\r\n      textField: null,\r\n      $element: createElementFrom(`\r\n        <div>\r\n          <label\r\n            for=\"${key}\"\r\n            class=\"checklist-item ${this.editable ? \"editable\" : \"\"}\">\r\n\r\n              <input\r\n                ${checked ? \"checked\" : \"\"}\r\n                type=\"${type}\"\r\n                name=\"${this.name}\"\r\n                id=\"${key}\"\r\n              />\r\n\r\n              <div class=\"${type}__mark\"></div>\r\n              <div class=\"checklist-item__value\">${value}</div>\r\n              ${this.editable\r\n                  ? `<span class=\"spacex-1\"></span>\r\n                    <button type=\"button\" class=\"checklist-item__remove cross-btn secondary small\"></button>`\r\n                  : ``}\r\n\r\n          </label>\r\n        </div>\r\n    `),\r\n    };\r\n\r\n    newItem.$input = newItem.$element.querySelector(\"input\");\r\n    newItem.checked = checked;\r\n\r\n    newItem.$input.addEventListener(\r\n      \"change\",\r\n      () => {\r\n        this.onChange({ ...newItem });\r\n    });\r\n\r\n    this.$element.appendChild(newItem.$element);\r\n    this.items.push(newItem);\r\n\r\n    if (this.editable) {\r\n      newItem.textField = new ULTextField(\r\n        newItem.$element.querySelector(\".checklist-item__value\"),\r\n        {\r\n          multiline: true,\r\n          placeholder: \"Option\",\r\n          value: newItem.value,\r\n          required: true,\r\n        }\r\n      );\r\n      newItem.textField.onInput = () => {\r\n        newItem.value = newItem.textField.value;\r\n        this.onChange({ ...newItem });\r\n      };\r\n      newItem.$element\r\n        .querySelector(\".checklist-item__remove\")\r\n        .addEventListener(\r\n          \"click\",\r\n          () => { this.removeItem(newItem); }\r\n      );\r\n    }\r\n\r\n    return newItem;\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {{\r\n   *  key: string|number,\r\n   *  value: string,\r\n   *  $element: HTMLElement\r\n   * }} param0\r\n   */\r\n  removeItem({ key = null, value = null, $element = null }) {\r\n    let removed = null;\r\n    this.items.splice(\r\n      this.items.findIndex((item) => {\r\n        if ( item.key == key || item.value == value || item.$element == $element ) {\r\n          removed = item;\r\n          item.$element.remove();\r\n          return true;\r\n        }\r\n      }),\r\n      1\r\n    );\r\n    if (removed) this.onRemove({ ...removed });\r\n  }\r\n\r\n  reportValidity() {\r\n    let valid = this.items.every(i => i.textField.reportValidity());\r\n    if (valid) {\r\n      valid = this.items.findIndex(i => i.$input.checked) != -1;\r\n      \r\n      if (!valid) {\r\n        this.items[0].$input.setCustomValidity(\"Please check at least 1 item\");\r\n        this.items[0].$input.reportValidity();\r\n        this.items[0].$input.scrollIntoView({ block: \"center\", behavior: \"smooth\" })\r\n      }\r\n    }\r\n    return valid;\r\n  }\r\n}\r\n","import { createElementFrom } from \"./utils\";\r\n\r\nexport class Complete {\r\n  /**\r\n   * @param {HTMLElement} $target\r\n   * @param {{\r\n   *  text: string,\r\n   *  values: {[key: string]: string},\r\n   *  disabled: boolean\r\n   * }} param1\r\n   */\r\n  constructor($target, { text = \"\", values = {}, disabled = false }) {\r\n    this.$element = document.createElement(\"div\");\r\n\r\n    this.onInput = () => {};\r\n    this._disabled = disabled;\r\n    this.setText({ text, values });\r\n\r\n    $target.replaceWith(this.$element);\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {{\r\n   *  text: string\r\n   *  values: {[key: string]: string}\r\n   * }} param0\r\n   */\r\n  setText({ text, values }) {\r\n    this.$element.innerHTML = \"\";\r\n    this.text = text;\r\n    this.values = { ...values };\r\n    this.$content = createElementFrom(text);\r\n\r\n    if (this.$content) {\r\n      this.$content.querySelectorAll(\"c\").forEach((c) => {\r\n        const w = c.getAttribute(\"width\");\r\n        const id = c.getAttribute(\"id\");\r\n        const $span = document.createElement(\"span\");\r\n        const $inp = createElementFrom(\r\n          `<input data-id=\"${id}\" class=\"inline-text-field\" type=\"text\" maxlength=\"${w}\" ${\r\n            this._disabled ? \"disabled\" : \"\"\r\n          } />`\r\n        );\r\n        $span.style.visibility = \"hidden\";\r\n        $span.style.position = \"absolute\";\r\n        $span.innerText = \"m\".repeat(w);\r\n        $span.style.fontSize = $inp.style.fontSize = \"1rem\";\r\n        $span.style.fontFamily = $inp.style.fontFamily = \"monospace\";\r\n\r\n        document.body.appendChild($span);\r\n        $inp.style.width = $span.clientWidth + \"px\";\r\n\r\n        $inp.value = values[id] || \"\";\r\n        $inp.addEventListener(\"input\", () => {\r\n          this.values[id] = $inp.value;\r\n          this.onInput({ id, value: $inp.value });\r\n        });\r\n        c.replaceWith($inp);\r\n        $span.remove();\r\n      });\r\n\r\n      this.$element.appendChild(this.$content);\r\n\r\n      this.$content.style.whiteSpace = \"pre-wrap\";\r\n      this.$content.style.wordWrap = \"break-word\";\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n *\r\n * @param {string} text\r\n */\r\nexport function parseText(text) {\r\n  const $pre = document.createElement(\"pre\");\r\n  let currentId = 1;\r\n  const values = {};\r\n\r\n  let toComplete = \"\";\r\n  let mode = false;\r\n\r\n  function put() {\r\n    if (toComplete) {\r\n      $pre.append(\r\n        createElementFrom(\r\n          `<span><c id=\"${currentId}\" width=\"${toComplete.length}\" /></span>`\r\n        )\r\n      );\r\n      values[currentId] = toComplete;\r\n      currentId++;\r\n      toComplete = \"\";\r\n    }\r\n    mode = false;\r\n  }\r\n\r\n  for (let i = 0; i < text.length; i++) {\r\n    if (text[i] == \"\\\\\") {\r\n      if (i == text.length - 1) continue;\r\n      i++;\r\n      if (text[i] == \"\\n\") continue;\r\n      if (mode) toComplete += text[i];\r\n      else $pre.append(document.createTextNode(text[i]));\r\n    } else if (text[i] == \"\\n\") {\r\n      put();\r\n      $pre.append(document.createTextNode(\"\\n\"));\r\n    } else if (mode) {\r\n      if (text[i] == \"]\") {\r\n        put();\r\n      } else {\r\n        toComplete += text[i];\r\n      }\r\n    } else if (text[i] == \"[\") {\r\n      mode = true;\r\n    } else {\r\n      $pre.append(document.createTextNode(text[i]));\r\n    }\r\n  }\r\n  put();\r\n  return { parsedText: $pre.outerHTML, values };\r\n}\r\n\r\nexport function unParseText({ parsedText, values }) {\r\n  const replace = (s) =>\r\n    s.replaceAll(\"\\\\\", \"\\\\\\\\\").replaceAll(\"[\", \"\\\\[\").replaceAll(\"]\", \"\\\\]\");\r\n  const $pre = createElementFrom(replace(parsedText));\r\n  $pre.querySelectorAll(\"c\").forEach((c) => {\r\n    const id = c.getAttribute(\"id\");\r\n    c.replaceWith(document.createTextNode(`[${replace(values[id] || \"\")}]`));\r\n  });\r\n  return $pre.innerText;\r\n}\r\n","import { ULTextField } from \"./text-field\";\r\nimport { createElementFrom } from \"./utils\";\r\n\r\nexport class Match {\r\n  /**\r\n   * @param {HTMLElement} $target\r\n   * @param {{\r\n   *  left: string[],\r\n   *  right: string[],\r\n   *  connections: number[][],\r\n   *  editable: boolean\r\n   * }} param1\r\n   */\r\n  constructor(\r\n    $target,\r\n    { left = [], right = [], connections = [], editable = false }\r\n  ) {\r\n    this._canvasWidth = 100;\r\n    this.$element = createElementFrom(`\r\n      <div class=\"match\">\r\n        <div class=\"match__side match__side--left\"></div>\r\n        <canvas class=\"match__middle\" width=\"${this._canvasWidth}\" height=\"0\"></canvas>\r\n        <div class=\"match__side match__side--right\"></div>\r\n      </div>\r\n    `);\r\n    $target.replaceWith(this.$element);\r\n\r\n    this.$left = this.$element.querySelector(\".match__side--left\");\r\n    this.$right = this.$element.querySelector(\".match__side--right\");\r\n    /**\r\n     * @type {HTMLCanvasElement}\r\n     */\r\n    this.$middle = this.$element.querySelector(\".match__middle\");\r\n    this._selected = [null, null];\r\n\r\n    this._ctx = this.$middle.getContext(\"2d\");\r\n\r\n    /**\r\n     * @type {number[][]}\r\n     */\r\n    this._connections = [];\r\n\r\n    /**\r\n     * @typedef {{\r\n     *  value: string,\r\n     *  $element: HTMLElement,\r\n     *  $btn: HTMLButtonElement,\r\n     *  textField?: ULTextField}} _Item\r\n     */\r\n    /**\r\n     * @type {Array<_Item>}\r\n     */\r\n    this.left = [];\r\n    /**\r\n     * @type {Array<_Item>}\r\n     */\r\n    this.right = [];\r\n    this.editable = editable;\r\n\r\n    for (let item of left) {\r\n      this.addLeft(item);\r\n    }\r\n    for (let item of right) {\r\n      this.addRight(item);\r\n    }\r\n\r\n    this.connections = connections.map((c) => [...c]);\r\n\r\n    this.onNewConnection = ([_, __]) => {};\r\n    this.onRemoveConnection = ([_, __]) => {};\r\n    this.onRemove = ({ sideName, item }) => {};\r\n    this.onChange = ({ sideName, item }) => {};\r\n  }\r\n\r\n  _drawConnections() {\r\n    this._ctx.clearRect(0, 0, this._ctx.canvas.width, this._ctx.canvas.height);\r\n\r\n    for (const c of this._connections) {\r\n      if (!this.left[c[0]] || !this.right[c[1]]) {\r\n        continue;\r\n      }\r\n      const $lel = this.left[c[0]].$btn;\r\n      const $rel = this.right[c[1]].$btn;\r\n      const lbr = $lel.getBoundingClientRect();\r\n      const rbr = $rel.getBoundingClientRect();\r\n      const top = this.$middle.getBoundingClientRect().top;\r\n      const y1 = lbr.top + lbr.height / 2 - top;\r\n      const y2 = rbr.top + rbr.height / 2 - top;\r\n\r\n      this._ctx.lineWidth = 4;\r\n      this._ctx.strokeStyle = \"#00a8a8\";\r\n      this._ctx.beginPath();\r\n      this._ctx.moveTo(0, y1);\r\n      this._ctx.lineTo(this._ctx.canvas.width, y2);\r\n      this._ctx.stroke();\r\n\r\n      $lel.classList.add(\"match-button--active\");\r\n      $rel.classList.add(\"match-button--active\");\r\n\r\n      $lel.blur();\r\n      $rel.blur();\r\n    }\r\n  }\r\n\r\n  set connections(v) {\r\n    this._connections = v;\r\n    this._drawConnections();\r\n  }\r\n\r\n  get connections() {\r\n    return this._connections;\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {number[]} c\r\n   * @returns\r\n   */\r\n  addConnection(connection) {\r\n    this._removeConnectionHelper(connection);\r\n    this._connections.push([...connection]);\r\n    this.connections = this._connections;\r\n    this.onNewConnection([...connection]);\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {Array<number?>} connection\r\n   */\r\n  removeConnection(connection) {\r\n    const rc = this._removeConnectionHelper(connection);\r\n    this.connections = this._connections;\r\n    this.onRemoveConnection(rc);\r\n  }\r\n\r\n  _removeConnectionHelper(connection) {\r\n    let ret = [];\r\n    this._connections = this._connections.filter((c) => {\r\n      if (c[0] == connection[0] || c[1] == connection[1]) {\r\n        ret = [...c];\r\n        this.left[c[0]].$btn.classList.remove(\"match-button--active\");\r\n        this.right[c[1]].$btn.classList.remove(\"match-button--active\");\r\n        return false;\r\n      }\r\n      return true;\r\n    });\r\n    return ret;\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {string} value\r\n   * @returns {_Item}\r\n   */\r\n  addLeft(value) {\r\n    return this._addToSide(value, \"left\");\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {string} value\r\n   * @returns {_Item}\r\n   */\r\n  addRight(value) {\r\n    return this._addToSide(value, \"right\");\r\n  }\r\n\r\n  removeLeft(idx) {\r\n    const removed = this._removeSide(idx, \"left\");\r\n    this.onRemove({ sideName: \"left\", removed });\r\n    return removed;\r\n  }\r\n\r\n  removeRight(idx) {\r\n    const removed = this._removeSide(idx, \"right\");\r\n    this.onRemove({ sideName: \"right\", removed });\r\n    return removed;\r\n  }\r\n\r\n  _removeSide(idx, sideName) {\r\n    let sideItems = this[sideName];\r\n    let ci = sideName == \"left\" ? 0 : 1;\r\n\r\n    this.removeConnection(sideName == \"left\" ? [idx, null] : [null, idx]);\r\n\r\n    for (const c of this._connections) {\r\n      if (c[ci] > idx) c[ci]--;\r\n    }\r\n\r\n    if (this._selected[ci] == idx) {\r\n      this._selected[ci] = null;\r\n    }\r\n\r\n    const removed = sideItems.splice(idx, 1)[0];\r\n    removed.$element.remove();\r\n    for (let i = idx; i < sideItems.length; i++) {\r\n      sideItems[i].key--;\r\n    }\r\n    this._adjustHeight();\r\n    return removed;\r\n  }\r\n\r\n  _addToSide(value, sideName) {\r\n    const $side = this[\"$\" + sideName];\r\n    const sideItems = this[sideName];\r\n    let [ci1, ci2] = sideName == \"left\" ? [0, 1] : [1, 0];\r\n\r\n    const newItem = {\r\n      key: sideItems.length,\r\n      value,\r\n      $element: createElementFrom(`\r\n        <div class=\"match-button__wrapper match-button__wrapper--${sideName}\">\r\n          <button class=\"match-button match-button--${sideName}\">\r\n            <div class=\"match-button__value\">${value}</div>\r\n          </button>\r\n          ${\r\n            this.editable\r\n              ? `<button type=\"button\" class=\"match-button__remove cross-btn secondary x-small\"></button>`\r\n              : \"\"\r\n          }\r\n        </div>\r\n      `),\r\n      $btn: null,\r\n    };\r\n    newItem.$btn = newItem.$element.querySelector(\".match-button\");\r\n    $side.appendChild(newItem.$element);\r\n    if (this.editable) {\r\n      newItem.textField = new ULTextField(\r\n        newItem.$btn.querySelector(\".match-button__value\"),\r\n        {\r\n          multiline: true,\r\n          disableEnter: true,\r\n          value,\r\n          placeholder: sideName.charAt(0).toUpperCase() + sideName.slice(1),\r\n          required: true,\r\n        }\r\n      );\r\n      newItem.textField.onInput = () => {\r\n        newItem.value = newItem.textField.value;\r\n        this._adjustHeight();\r\n        this.onChange({ sideName, item: newItem });\r\n      };\r\n      newItem.$element\r\n        .querySelector(\".match-button__remove\")\r\n        .addEventListener(\"click\", () => {\r\n          const r = this._removeSide(newItem.key, sideName);\r\n          this.onRemove({ item: r, sideName });\r\n        });\r\n    }\r\n\r\n    newItem.$btn.addEventListener(\"focus\", (e) => {\r\n      this._selected[ci1] = newItem.key;\r\n      this.removeConnection(\r\n        sideName == \"left\" ? [newItem.key, null] : [null, newItem.key]\r\n      );\r\n      if (this._selected[ci2] != null) {\r\n        this.addConnection([this._selected[0], this._selected[1]]);\r\n        this._selected = [null, null];\r\n      }\r\n    });\r\n    newItem.$btn.addEventListener(\"blur\", () => {\r\n      setTimeout(() => {\r\n        if (this._selected[ci1] == newItem.key) this._selected[ci1] = null;\r\n      }, 10);\r\n    });\r\n    this._adjustHeight();\r\n    sideItems.push(newItem);\r\n\r\n    return newItem;\r\n  }\r\n\r\n  _adjustHeight() {\r\n    this.$middle.height = 0;\r\n    this.$middle.height = this.$element.clientHeight;\r\n    this._drawConnections();\r\n  }\r\n\r\n  reportValidity() {\r\n    if (this.editable) {\r\n      let valid =\r\n        this.left.every((i) => i.textField.reportValidity()) &&\r\n        this.right.every((i) => i.textField.reportValidity());\r\n      if (valid && !this._connections.length) {\r\n        valid = false;\r\n        this.left[0].$btn.setCustomValidity(\r\n          \"There should be at least 1 connection\"\r\n        );\r\n        this.left[0].$btn.reportValidity();\r\n        this.left[0].$btn.scrollIntoView({\r\n          block: \"center\",\r\n          behavior: \"smooth\",\r\n        });\r\n      }\r\n      return valid;\r\n    }\r\n    return true;\r\n  }\r\n}\r\n","import { CheckList } from \"./check-list\";\r\nimport { Complete, parseText, unParseText } from \"./complete\";\r\nimport { Match } from \"./match\";\r\nimport { OLTextField, ULTextField } from \"./text-field\";\r\nimport { createElementFrom } from \"./utils\";\r\n\r\nexport class EditableQuizSection {\r\n  /**\r\n   *\r\n   * @param {HTMLElement} $target\r\n   */\r\n  constructor($target, { quest }) {\r\n    this.$element = createElementFrom(`\r\n      <div class=\"quiz-section\">\r\n        <div class=\"quiz-section__remove-wrapper\">\r\n          <button type=\"button\" class=\"quiz-section__remove cross-btn secondary\"></button>\r\n        </div>\r\n        <div class=\"paper-4 quiz-section__wrapper\">\r\n          <div class=\"title primary\">\r\n            <div id=\"title-input\"></div>\r\n          </div>\r\n          <div class=\"spacey-2\"></div>\r\n          <div class=\"subtitle\">\r\n            <div id=\"question-input\"></div>\r\n          </div>\r\n          <div class=\"spacey-1\"></div>\r\n          <div class=\"quiz-section__content\"></div>\r\n        </div>\r\n        \r\n      </div>\r\n    `);\r\n\r\n    if (!quest.title) quest.title = \"\";\r\n    if (!quest.question) quest.question = \"\";\r\n\r\n    $target.replaceWith(this.$element);\r\n    const titleInput = new ULTextField(\r\n      this.$element.querySelector(\"#title-input\"),\r\n      {\r\n        value: quest.title,\r\n        multiline: true,\r\n        placeholder: \"Quest title\",\r\n        required: true,\r\n      }\r\n    );\r\n    titleInput.onInput = () => {\r\n      quest.title = titleInput.value;\r\n    };\r\n    const questionInput = new ULTextField(\r\n      this.$element.querySelector(\"#question-input\"),\r\n      {\r\n        value: quest.question,\r\n        multiline: true,\r\n        placeholder: \"Your question\",\r\n        required: true,\r\n      }\r\n    );\r\n    questionInput.onInput = () => {\r\n      quest.question = questionInput.value;\r\n    };\r\n\r\n    this.onRemove = () => {};\r\n    const $removeBtn = this.$element.querySelector(\".quiz-section__remove\");\r\n    $removeBtn.addEventListener(\"click\", () => {\r\n      this.$element.remove();\r\n      this.onRemove();\r\n    });\r\n\r\n    this.$content = this.$element.querySelector(\".quiz-section__content\");\r\n\r\n    this._validityHandlers = [\r\n      () => titleInput.reportValidity() && questionInput.reportValidity(),\r\n    ];\r\n    this.reportValidity = () => this._validityHandlers.every((fn) => fn());\r\n\r\n    const typeHandlers = {\r\n      question: () => {\r\n        if (!quest.answer) quest.answer = \"\";\r\n\r\n        const $placeholder = document.createElement(\"div\");\r\n        this.$content.appendChild($placeholder);\r\n        const input = new OLTextField($placeholder, {\r\n          value: quest.answer,\r\n          label: \"Correct answer\",\r\n          required: true,\r\n        });\r\n        input.onInput = () => {\r\n          quest.answer = input.value;\r\n        };\r\n\r\n        this._validityHandlers.push(() => input.reportValidity());\r\n      },\r\n      choose: (multiple) => {\r\n        const $form = document.createElement(\"form\");\r\n        $form.onsubmit = (e) => e.preventDefault();\r\n        const $placeholder = document.createElement(\"div\");\r\n        const $addBtn = createElementFrom(\r\n          `<button type=\"button\" class=\"filled-button secondary small\">add option</button>`\r\n        );\r\n        this.$content.append(\r\n          $form,\r\n          createElementFrom(`<span class=\"spacex-2\"></span>`),\r\n          $addBtn\r\n        );\r\n        $form.appendChild($placeholder);\r\n\r\n        if (!quest.answers) quest.answers = [];\r\n        if (!quest.options) quest.options = [];\r\n\r\n        const checklist = new CheckList($placeholder, {\r\n          multiple,\r\n          items: quest.options.map((o, i) => ({\r\n            value: o,\r\n            checked: quest.answers.includes(i + 1),\r\n          })),\r\n          editable: true,\r\n        });\r\n\r\n        checklist.onChange = checklist.onRemove = () => {\r\n          quest.answers = [];\r\n          quest.options = checklist.items.map((i, idx) => {\r\n            if (i.checked) quest.answers.push(idx + 1);\r\n            return i.value;\r\n          });\r\n          if (!checklist.items.length) {\r\n            $addBtn.click();\r\n          }\r\n        };\r\n\r\n        this._validityHandlers.push(() => checklist.reportValidity());\r\n\r\n        $addBtn.addEventListener(\"click\", () => {\r\n          checklist.addItem({ value: \"\" }).textField.focus();\r\n        });\r\n        if (!quest.answers.length) checklist.addItem({ value: \"\" });\r\n      },\r\n      \"choose one\": function () {\r\n        this.choose(false);\r\n      },\r\n      \"choose multiple\": function () {\r\n        this.choose(true);\r\n      },\r\n      complete: () => {\r\n        if (!(quest.text && quest.answers)) {\r\n          quest.text = \"\";\r\n          quest.answers = {};\r\n        }\r\n\r\n        const $completePlaceholder = document.createElement(\"div\");\r\n        const $inputPlaceholder = document.createElement(\"div\");\r\n        /**\r\n         * @type {HTMLButtonElement}\r\n         */\r\n        const $editBtn = createElementFrom(\r\n          `<button type=\"button\" class=\"filled-button secondary small\">edit</button>`\r\n        );\r\n        this.$content.append(\r\n          $completePlaceholder,\r\n          $inputPlaceholder,\r\n          createElementFrom(`<div class=\"spacey-1\"></div>`),\r\n          $editBtn\r\n        );\r\n\r\n        const complete = new Complete($completePlaceholder, {\r\n          values: quest.answers,\r\n          text: quest.text,\r\n          disabled: true,\r\n        });\r\n\r\n        const input = new ULTextField($inputPlaceholder, {\r\n          placeholder: \"Text [to complete]\",\r\n          multiline: true,\r\n          required: true\r\n        });\r\n\r\n        if (quest.text && quest.answers) {\r\n          input.value = unParseText({\r\n            parsedText: quest.text,\r\n            values: quest.answers,\r\n          });\r\n          input.$element.hidden = true;\r\n        } else {\r\n          input.focus();\r\n          complete.$element.hidden = true;\r\n        }\r\n\r\n        complete.$element.style.cursor = \"pointer\";\r\n        const edit = () => {\r\n          complete.$element.hidden = true;\r\n          input.$element.hidden = false;\r\n          input.focus();\r\n          input.value = unParseText({\r\n            parsedText: complete.text,\r\n            values: { ...complete.values },\r\n          });\r\n        };\r\n\r\n        complete.$element.addEventListener(\"click\", () => edit());\r\n        $editBtn.addEventListener(\"click\", () => edit());\r\n\r\n        input.onBlur = () => {\r\n          const p = parseText(input.value);\r\n          complete.setText({ text: p.parsedText, values: { ...p.values } });\r\n          quest.text = p.parsedText;\r\n          quest.answers = { ...p.values };\r\n          if (!input.value) return;\r\n\r\n          input.$element.hidden = true;\r\n          complete.$element.hidden = false;\r\n        };\r\n\r\n        this._validityHandlers.push(() => {\r\n          if (!complete.$content.querySelectorAll(\"input\").length) {\r\n            edit();\r\n            input.$input.setCustomValidity(\"The text should have at least 1 field to complete\");\r\n            input.$input.reportValidity()\r\n            return false;\r\n          }\r\n          return true;\r\n        });\r\n      },\r\n      match: () => {\r\n        if (!quest.answers) quest.answers = [];\r\n        if (!quest.left) quest.left = [];\r\n        if (!quest.right) quest.right = [];\r\n\r\n        const $placeholder = document.createElement(\"div\");\r\n        this.$content.appendChild($placeholder);\r\n\r\n        const match = new Match($placeholder, {\r\n          left: quest.left,\r\n          right: quest.right,\r\n          connections: quest.answers.map(([l, r]) => [l - 1, r - 1]),\r\n          editable: true,\r\n        });\r\n\r\n        match.onChange = match.onRemove = match.onNewConnection = match.onRemoveConnection = () => {\r\n          quest.left = match.left.map((i) => i.value);\r\n          quest.right = match.right.map((i) => i.value);\r\n          quest.answers = match.connections.map((c) => [c[0] + 1, c[1] + 1]);\r\n\r\n          if (!match.left.length) {\r\n            $addLeft.click();\r\n          }\r\n          if (!match.right.length) {\r\n            $addRight.click();\r\n          }\r\n        };\r\n\r\n        const $btnWrap = document.createElement(\"div\");\r\n        const $addLeft = createElementFrom(\r\n          `<button type=\"button\" class=\"filled-button small secondary\">add left</button>`\r\n        );\r\n        const $addRight = createElementFrom(\r\n          `<button type=\"button\" class=\"filled-button small secondary\">add right</button>`\r\n        );\r\n        $btnWrap.append(\r\n          $addLeft,\r\n          createElementFrom(`<span class=\"spacex-1\"></span>`),\r\n          $addRight\r\n        );\r\n        this.$content.append(\r\n          createElementFrom(`<div class=\"spacey-1\"></div>`),\r\n          $btnWrap\r\n        );\r\n\r\n        $addLeft.addEventListener(\"click\", () => {\r\n          match.addLeft(\"\").textField.focus();\r\n        });\r\n\r\n        $addRight.addEventListener(\"click\", () => {\r\n          match.addRight(\"\").textField.focus();\r\n        });\r\n\r\n        if (!quest.left.length) $addLeft.click();\r\n        if (!quest.right.length) $addRight.click();\r\n\r\n        this._validityHandlers.push(() => match.reportValidity())\r\n      },\r\n    };\r\n\r\n    typeHandlers[quest.type] && typeHandlers[quest.type]();\r\n\r\n    questionInput.focus();\r\n  }\r\n}\r\n","import { createElementFrom } from \"./utils\";\r\n\r\nexport class Select {\r\n  /**\r\n   * @typedef {{key:number|string, value:string}} Option\r\n   */\r\n  /**\r\n   * @param {HTMLElement} $target\r\n   * @param {{\r\n   *  label: string,\r\n   *  options: Option[],\r\n   * }} param1\r\n   */\r\n  constructor(\r\n    $target,\r\n    { label = \"\", options = [], required = false }\r\n  ) {\r\n    this.$element = createElementFrom(`\r\n      <div class=\"ol-text-field select\">\r\n        <input class=\"ol-text-field__input\" type=\"text\" ${\r\n          required ? \"required\" : \"\"\r\n        } />\r\n        ${label ? `<span class=\"ol-text-field__label\">${label}</span>` : \"\"}\r\n        <button class=\"select__trigger\" type=\"button\">\r\n          <div class=\"select__options\"></div>\r\n        </button>\r\n      </div>\r\n    `);\r\n    this.$trigger = this.$element.querySelector(\".select__trigger\");\r\n    this.$options = this.$element.querySelector(\".select__options\");\r\n    this.$input = this.$element.querySelector(\"input\");\r\n    this.options = [];\r\n    this.onSelect = () => {};\r\n    this.selected = null;\r\n\r\n    this.$trigger.addEventListener(\"focus\", () => {\r\n      this.$element.classList.add(\"has-text\", \"active\");\r\n    });\r\n\r\n    this.$trigger.addEventListener(\"blur\", () => {\r\n      this.$element.classList.remove(\"active\");\r\n      if (!this.$input.value) {\r\n        this.$element.classList.remove(\"has-text\");\r\n      }\r\n    });\r\n\r\n    this.$input.addEventListener(\"focus\", () => {\r\n      this.$input.blur();\r\n      this.$trigger.focus();\r\n    });\r\n\r\n    $target.replaceWith(this.$element);\r\n\r\n    for (const o of options) this.addOption(o);\r\n  }\r\n  /**\r\n   *\r\n   * @param {Option} o\r\n   */\r\n  addOption(o) {\r\n    const $option = createElementFrom(`\r\n      <div class=\"select__option\">${o.value}</div>\r\n    `);\r\n    $option.addEventListener(\"click\", () => {\r\n      this.$input.value = o.value;\r\n      if (o.value) {\r\n        this.$element.classList.add(\"has-text\");\r\n      }\r\n      this.selected = o;\r\n      this.$trigger.blur();\r\n      this.onSelect();\r\n    });\r\n\r\n    this.$options.appendChild($option);\r\n    this.options.push({\r\n      key: o.key,\r\n      value: o.value,\r\n      el: $option,\r\n    });\r\n  }\r\n}\r\n","import { Select } from \"./select\";\r\nimport { OLTextField, ULTextField } from \"./text-field\";\r\nimport { createElementFrom } from \"./utils\";\r\n\r\n/**\r\n *\r\n * @param {string} what\r\n * @param {{\r\n *  multiline: boolean,\r\n *  placeholder: string,\r\n *  value: string,\r\n *  required: boolean\r\n * }} param1\r\n * @returns\r\n */\r\n\r\nexport function promptModal(\r\n  what,\r\n  { multiline = false, placeholder = \"\", value = \"\", required = false }\r\n) {\r\n  let $modal = createModal(what);\r\n\r\n  const input = new ULTextField($modal.querySelector(\"#content\"), {\r\n    multiline,\r\n    placeholder,\r\n    value,\r\n    required,\r\n  });\r\n  return runModal($modal).then(() => input.value);\r\n}\r\n\r\n/**\r\n *\r\n * @param {string} what\r\n * @param {{\r\n *  label: string,\r\n *  required: boolean,\r\n *  options: import(\"./select\").Option[]\r\n * }}\r\n * @returns\r\n */\r\n\r\nexport function selectModal(what, { label = \"\", required = false, options }) {\r\n  let $modal = createModal(what);\r\n  \r\n  const select = new Select($modal.querySelector(\"#content\"), {\r\n    label,\r\n    required,\r\n    options,\r\n  });\r\n\r\n  return runModal($modal).then(() => select.selected);\r\n}\r\n\r\n/**\r\n *\r\n * @param {string} title\r\n * @returns\r\n */\r\n\r\nfunction createModal(title) {\r\n  return createElementFrom(`\r\n    <div class=\"modal\">\r\n      <div class=\"modal__overlay\">\r\n        <form class=\"modal__content paper-1\">\r\n          <div class=\"modal__header\">\r\n            <div class=\"modal__title subtitle\">${title}</div>\r\n          </div>\r\n          <div class=\"spacey-1\"></div>\r\n          <div id=\"content\"></div>\r\n          <div class=\"spacey-1\"></div>\r\n          <div class=\"modal__bottom\">\r\n            <button type=\"button\" class=\"modal__cancel text-button secondary\">cancel</button>\r\n            <span class=\"spacex-1\"></span>\r\n            <button type=\"submit\" class=\"modal__submit filled-button primary\">ok</button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  `);\r\n}\r\n\r\n/**\r\n *\r\n * @param {HTMLElement} $modal\r\n * @returns\r\n */\r\n\r\nfunction runModal($modal) {\r\n  const $main = document.querySelector(\"main\");\r\n  $main.classList.add(\"blured\");\r\n  document.body.classList.add(\"hide-overflow\");\r\n\r\n  document.body.appendChild($modal);\r\n\r\n  setTimeout(() => {\r\n    $modal.classList.add(\"modal--open\");\r\n  }, 20);\r\n\r\n  let closed = false;\r\n\r\n  function close(fn) {\r\n    if (closed) return;\r\n    closed = true;\r\n    $modal.classList.remove(\"modal--open\");\r\n    $main.classList.remove(\"blured\");\r\n    setTimeout(() => {\r\n      $modal.remove();\r\n      document.body.classList.remove(\"hide-overflow\");\r\n      fn();\r\n    }, 300);\r\n  }\r\n\r\n  return new Promise((resolve, reject) => {\r\n    const $overlay = $modal.querySelector(\".modal__overlay\");\r\n    $overlay.addEventListener(\"click\", (e) => {\r\n      if (e.target == $overlay) close(reject);\r\n    });\r\n\r\n    const $form = $modal.querySelector(\"form\");\r\n\r\n    $form.addEventListener(\"submit\", (e) => {\r\n      e.preventDefault();\r\n      if ($form.checkValidity()) {\r\n        close(resolve);\r\n      }\r\n    });\r\n\r\n    $modal.querySelector(\".modal__cancel\").addEventListener(\"click\", () => {\r\n      close(reject);\r\n    });\r\n  });\r\n}\r\n","import { EditableQuizSection } from \"./components/editable-quiz-section\";\r\nimport { promptModal, selectModal } from \"./components/modal\";\r\nimport { ULTextField } from \"./components/text-field\";\r\nimport { createElementFrom } from \"./components/utils\";\r\n\r\nconst quiz = {\r\n  name: \"Quiz\",\r\n  quests: [\r\n    {\r\n      title: \"Choose the right answers\",\r\n      type: \"choose multiple\",\r\n      question:\r\n        \"What may be the result of a sorting algorithm applied on an set of numbers?\",\r\n      options: [\r\n        \"[1, 4, 5, 3, 10, 14]\",\r\n        \"[55, 90, 91, 123, 241]\",\r\n        \"[62, 42, -1, -2, -99]\",\r\n      ],\r\n      answers: [2, 3],\r\n    },\r\n    {\r\n      title: \"Match the sides\",\r\n      type: \"match\",\r\n      question: \"Match the size of given types\",\r\n      left: [\"int\", \"char\", \"short\"],\r\n      right: [\"8 bits\", \"16 bits\", \"32 bits\"],\r\n      answers: [\r\n        [1, 3],\r\n        [2, 1],\r\n        [3, 2],\r\n      ],\r\n      correctAnswers: [\r\n        [1, 3],\r\n        [2, 1],\r\n        [3, 2],\r\n      ],\r\n    },\r\n        {\r\n          title: \"Complete empty spaces\",\r\n          type: \"complete\",\r\n          question:\r\n            'Write a function named \"Hello\" that prints \"Hello world\" to the console and something more here',\r\n          text: `<pre>function <span><c id=\"1\" width=\"7\" /></span>() {\r\n      console.<span><c id=\"2\" width=\"3\"/></span>(<span><c id=\"3\" width=\"13\"/></span>);\r\n    }</pre>`,\r\n          answers: {\r\n            1: \"Hello\",\r\n            2: \"log\",\r\n            3: '\"Hello world\"',\r\n          },\r\n        },\r\n        {\r\n          title: \"Complete empty spaces\",\r\n          type: \"complete\",\r\n          question:\r\n            'Write a function named \"Hello\" that prints \"Hello world\" to the console and something more here',\r\n          text: `<pre>&lt;div class=\"<span><c id=\"1\" width=\"12\" /></span>\"&gt;\r\n          <span><c id=\"2\" width=\"7\" /></span>\r\n&lt;/div&gt;</pre>`,\r\n          answers: {\r\n            1: \"something\",\r\n            2: \"another\"\r\n          },\r\n        },\r\n  ],\r\n};\r\n\r\n// quiz.name = \"\";\r\n// quiz.quests = [];\r\n\r\nconst titleMap = {\r\n  question: \"Answer the question\",\r\n  \"choose one\": \"Choose the right answer\",\r\n  \"choose multiple\": \"Choose the right answers\",\r\n  complete: \"Complete the empty spaces\",\r\n  match: \"Match the sides\",\r\n};\r\n\r\nfunction Init(quiz) {\r\n  if (!quiz.name) quiz.name = \"\";\r\n  if (!quiz.quests) quiz.quests = [];\r\n\r\n  window[\"quiz\"] = quiz;\r\n\r\n  const $quiz = document.querySelector(\"#quiz\");\r\n  $quiz.innerHTML = \"\";\r\n  const $quizName = createElementFrom(`\r\n    <div class=\"paper-6\">\r\n      <div class=\"title accent big\">\r\n        <div id=\"quiz-name\"></div>\r\n      </div>\r\n    </div>\r\n  `);\r\n  const $questsContainer = document.createElement(\"div\");\r\n  const $btnWrap = createElementFrom(`\r\n    <div class=\"flex-end\">\r\n      <button class=\"filled-button primary quiz__add\">Add quest</button>\r\n      <div class=\"spacex-1\"></div>\r\n      <button class=\"filled-button success quiz__submit\">submit</button>\r\n    </div>\r\n  `);\r\n  const $addQuestBtn = $btnWrap.querySelector(\".quiz__add\");\r\n  const $submitBtn = $btnWrap.querySelector(\".quiz__submit\");\r\n  $quiz.append(\r\n    createElementFrom(`<div class=\"spacey-2\"></div>`),\r\n    $quizName,\r\n    createElementFrom(`<div class=\"spacey-2\"></div>`),\r\n    $questsContainer,\r\n    createElementFrom(`<span class=\"spacex-3\"></span>`),\r\n    $btnWrap,\r\n    createElementFrom(`<div class=\"spacey-4\"></div>`)\r\n  );\r\n\r\n  const quizNameInput = new ULTextField($quizName.querySelector(\"#quiz-name\"), {\r\n    value: quiz.name,\r\n    placeholder: \"Quiz name\",\r\n    required: true,\r\n    multiline: true,\r\n  });\r\n  quizNameInput.onInput = () => {\r\n    quiz.name = quizNameInput.value;\r\n  };\r\n  quizNameInput.focus();\r\n\r\n  let quizSections = [];\r\n\r\n  $addQuestBtn.addEventListener(\"click\", () => {\r\n    selectModal(\"Choose the type of the quest\", {\r\n      label: \"Type\",\r\n      required: true,\r\n      options: [\r\n        [\"question\", \"Question\"],\r\n        [\"choose one\", \"Choose one\"],\r\n        [\"choose multiple\", \"Choose multiple\"],\r\n        [\"complete\", \"Complete text\"],\r\n        [\"match\", \"Match sides\"],\r\n      ].map((o) => ({\r\n        key: o[0],\r\n        value: o[1],\r\n      })),\r\n    }).then(\r\n      ({ key: type }) => {\r\n        const $placeholder = document.createElement(\"div\");\r\n        $questsContainer.appendChild($placeholder);\r\n        const newQuest = {\r\n          type,\r\n          title: titleMap[type],\r\n        };\r\n        quiz.quests.push(newQuest);\r\n        const eqs = new EditableQuizSection($placeholder, {\r\n          quest: newQuest,\r\n        });\r\n        quizSections.push(eqs);\r\n        eqs.onRemove = () => {\r\n          quiz.quests = quiz.quests.filter((q) => q != newQuest);\r\n          quizSections = quizSections.filter((qs) => qs != eqs);\r\n        };\r\n      },\r\n      () => {}\r\n    );\r\n  });\r\n\r\n  $submitBtn.addEventListener(\"click\", () => {\r\n    let valid = quizNameInput.reportValidity();\r\n\r\n    if (valid) valid &&= quizSections.every((qs) => qs.reportValidity());\r\n\r\n    if (valid && !quizSections.length) {\r\n      valid = false;\r\n      $addQuestBtn.setCustomValidity(\"There should be at least 1 quest\");\r\n      $addQuestBtn.reportValidity();\r\n    }\r\n  });\r\n\r\n  for (const quest of quiz.quests) {\r\n    const $placeholder = document.createElement(\"div\");\r\n    $questsContainer.appendChild($placeholder);\r\n    const eqs = new EditableQuizSection($placeholder, {\r\n      quest,\r\n    });\r\n    quizSections.push(eqs);\r\n    eqs.onRemove = () => {\r\n      quiz.quests = quiz.quests.filter((q) => q != quest);\r\n      quizSections = quizSections.filter((qs) => qs != eqs);\r\n    };\r\n  }\r\n}\r\n\r\n// quiz.quests = []\r\n\r\nInit(quiz);\r\n\r\nwindow[\"Init\"] = Init;\r\n\r\n// ?_id=skdfjas-asdfkljasdfp-asdfaslkdfj-asdfklj\r\n","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else if (location.reload) { // `location` global exists in a web worker context but lacks `.reload()` function.\n        location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel]  Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel]   ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\"></span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}